

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Troubleshooting &mdash; AGILab 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />

  
    <link rel="canonical" href="https://thalesgroup.github.io/agilab/troubleshooting.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=8d563738"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Licenses" href="license.html" />
    <link rel="prev" title="Installation Overview" href="install-usecase.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            AGILab
              <img src="_static/agi_logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quick-start.html">Quick-Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quick-start.html#license">LICENSE</a></li>
<li class="toctree-l2"><a class="reference internal" href="quick-start.html#install-agilab">Install Agilab</a></li>
<li class="toctree-l2"><a class="reference internal" href="quick-start.html#support">Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#purpose"><strong>Purpose</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#target-audience"><strong>Target Audience</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#main-dependencies"><strong>Main Dependencies</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#technologies-selection-criteria"><strong>Technologies Selection Criteria</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#example-aircraft-radio-communication">Example: Aircraft Radio Communication</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="features.html#agi-core">agi-core</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#agilab">agilab</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Core Topics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cluster.html">Cluster</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cluster-help.html">Cluster Help</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cluster-help.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="cluster-help.html#principle">Principle</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="key-generation.html">Key Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="key-generation.html#generate-the-keys">1. Generate the keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="key-generation.html#loading-the-private-key-in-ssh-agent">2. Loading the private key in SSH Agent</a><ul>
<li class="toctree-l4"><a class="reference internal" href="key-generation.html#load-the-private-key">2.1 Load the private key</a></li>
<li class="toctree-l4"><a class="reference internal" href="key-generation.html#verify-the-key-addition">2.2 Verify the key Addition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="key-generation.html#copy-the-public-key-to-the-server">3. Copy the public key to the server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="key-generation.html#allow-your-key">3.1 Allow your key</a></li>
<li class="toctree-l4"><a class="reference internal" href="key-generation.html#verification">3.2 Verification</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="key-generation.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="key-generation.html#sshd-service">SSHD Service</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="key-generation.html#useful-links">Useful links</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cluster-help.html">Cluster Help</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cluster-help.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster-help.html#principle">Principle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="agilab.html">AGILab</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="framework-api.html">Framework API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="framework-api.html#core-packages">Core packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="agi-env.html">agi-env API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="agi-env.html#usage-example">Usage Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="agi-env.html#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="agi-node.html">agi-node API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="agi-node.html#path-handling">Path handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="agi-node.html#argument-helpers">Argument helpers</a></li>
<li class="toctree-l4"><a class="reference internal" href="agi-node.html#managed-pc-path-remapping">Managed PC path remapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="agi-node.html#output-directory-helpers">Output directory helpers</a></li>
<li class="toctree-l4"><a class="reference internal" href="agi-node.html#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="agi-distributor.html">agi-distributor API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="agi-distributor.html#usage-example">Usage Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="agi-distributor.html#reference">Reference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="framework-api.html#working-with-the-api">Working with the API</a></li>
<li class="toctree-l2"><a class="reference internal" href="framework-api.html#app-structure-conventions">App structure conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#missing-worker-packages-during-agi-run">Missing worker packages during <cite>AGI.run_*</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-installers-still-build-eggs">Why installers still build eggs</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#do-we-already-have-dag-task-orchestration">Do we already have DAG/task orchestration?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#who-manages-multithreading-when-dask-is-disabled">Who manages multithreading when Dask is disabled?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#regenerating-ide-run-configurations">Regenerating IDE run configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#virtual-env-does-not-match-the-project-environment-warning">“VIRTUAL_ENV … does not match the project environment” warning</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-does-a-run-create-distribution-json">Why does a run create <code class="docutils literal notranslate"><span class="pre">distribution.json</span></code>?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#switching-the-active-app-in-streamlit">Switching the active app in Streamlit</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#docs-drift-after-touching-core-apis">Docs drift after touching core APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#agi-install-fails-looking-for-pyproject-toml"><cite>AGI.install_*</cite> fails looking for <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#where-are-installer-logs-written">Where are installer logs written?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="directory-structure.html">Project Files Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-usecase.html">Installation Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#a-prerequisite">A - Prerequisite:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#b-pycharm-run-debug-configurations">B - Pycharm Run/Debug configurations:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#c-exemple-of-tests-sequence">C - Exemple of Tests Sequence:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#d-agilab-run-dev-vs-agilab-run-enduser-vs-lab-run">D - agilab_run_dev vs agilab_run_enduser vs lab_run:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#known-bugs">Known Bugs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-sh-freeze">&lt;install.sh&gt; freeze:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uv-virtual-env-warning">&lt;UV&gt; VIRTUAL_ENV Warning</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uv-sync-failed">&lt;UV&gt; Sync Failed</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dask-debug-issue">&lt;DASK&gt; Debug Issue</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pycharm-run-debug-configuration-is-broken">&lt;PYCHARM&gt; Run/Debug Configuration is Broken</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pycharm-can-t-open-your-project">&lt;PYCHARM&gt; Can’t open your project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#failed-to-read-pydantic-metadata">Failed to read pydantic metadata</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Licenses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="agi-cluster-licenses.html">Agi-cluster Licenses</a></li>
<li class="toctree-l2"><a class="reference internal" href="agi-node-licenses.html">Agi-node Licenses</a></li>
<li class="toctree-l2"><a class="reference internal" href="agi-env-licenses.html">Agi-env Licenses</a></li>
<li class="toctree-l2"><a class="reference internal" href="flight-project-licenses.html">Flight-project Licenses</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Pages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="edit-help.html">▶️ EDIT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="edit-help.html#sidebar">Sidebar</a></li>
<li class="toctree-l2"><a class="reference internal" href="edit-help.html#main-content-area">Main Content Area</a></li>
<li class="toctree-l2"><a class="reference internal" href="edit-help.html#support">Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="execute-help.html">▶️ EXECUTE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="execute-help.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="execute-help.html#sidebar">Sidebar</a></li>
<li class="toctree-l2"><a class="reference internal" href="execute-help.html#main-content-area">Main Content Area</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="experiment-help.html">▶️ EXPERIMENT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="experiment-help.html#sidebar">Sidebar</a></li>
<li class="toctree-l2"><a class="reference internal" href="experiment-help.html#main-content-area">Main Content Area</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="explore-help.html">▶️ EXPLORE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="explore-help.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="explore-help.html#sidebar">Sidebar</a></li>
<li class="toctree-l2"><a class="reference internal" href="explore-help.html#main-content-area">Main Content Area</a></li>
<li class="toctree-l2"><a class="reference internal" href="explore-help.html#tips-notes">Tips &amp; Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apps-pages.html">apps bounded pages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="apps-pages.html#view-autoencoder-latenspace">view_autoencoder_latenspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps-pages.html#view-barycentric">view_barycentric</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps-pages.html#view-maps">view_maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps-pages.html#view-maps-3d">view_maps_3d</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps-pages.html#view-maps-network">view_maps_network</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Apps Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mycode-project.html">MyCode Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mycode-project.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="mycode-project.html#manager-mycode-mycode">Manager (<cite>mycode.mycode</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="mycode-project.html#args-mycode-app-args">Args (<cite>mycode.app_args</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="mycode-project.html#worker-mycode-worker-mycode-worker">Worker (<cite>mycode_worker.mycode_worker</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="mycode-project.html#assets-tests">Assets &amp; Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="mycode-project.html#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="flight-project.html">Flight Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="flight-project.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="flight-project.html#manager-flight-flight">Manager (<cite>flight.flight</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flight-project.html#args-flight-flight-args">Args (<cite>flight.flight_args</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flight-project.html#worker-flight-worker-flight-worker">Worker (<cite>flight_worker.flight_worker</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flight-project.html#assets-tests">Assets &amp; Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="flight-project.html#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example-app-project.html">Flight Trajectory Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#manager-example-app-example-app">Manager (<cite>example_app.example_app</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#args-example-app-app-args">Args (<cite>example_app.app_args</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#worker-example-app-worker-example-app-worker">Worker (<cite>example_worker.example_worker</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#assets-tests">Assets &amp; Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example-app-project.html">Link Sim Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#manager-example-app-example-app">Manager (<cite>example_app.example_app</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#args-example-app-app-args">Args (<cite>example_app.app_args</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#worker-example-app-worker-example-app-worker">Worker (<cite>example_worker.example_worker</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#assets-tests">Assets &amp; Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example-app-project.html">Sat Trajectory Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#manager-example-app-example-app">Manager (<cite>example_app.example_app</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#args-example-app-app-args">Args (<cite>example_app.app_args</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#worker-example-app-worker-example-app-worker">Worker (<cite>example_worker.example_worker</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#assets-tests">Assets &amp; Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example-app-project.html">Example App Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#manager-example-app-example-app">Manager (<cite>example_app.example_app</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#worker-example-app-worker-example-app-worker">Worker (<cite>example_worker.example_worker</cite>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#assets-tests">Assets &amp; Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-app-project.html#api-reference">API Reference</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hosting Sites</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="agilab-github.html"><strong>Agilab project</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="agilab-github.html#agilab-components"><strong>Agilab components</strong></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AGILab</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Troubleshooting</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/troubleshooting.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h1>
<section id="a-prerequisite">
<h2>A - Prerequisite:<a class="headerlink" href="#a-prerequisite" title="Link to this heading"></a></h2>
<p>Run agilab.sh to install and then try to run your xxx-project.
Each Agilab API call should be set with verbose mode &gt;= 3. In particular, when debugging with a Dask worker,
it will create a file (~/xxx-project_trace.txt) that shows what happened in during the worker build execution.</p>
</section>
<section id="b-pycharm-run-debug-configurations">
<h2>B - Pycharm Run/Debug configurations:<a class="headerlink" href="#b-pycharm-run-debug-configurations" title="Link to this heading"></a></h2>
<p>These scripts are provided to debug your app with the PyCharm IDE, which best matches Agilab troubleshooting.</p>
<div class="code text highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">runConfigurations</span><span class="o">/</span>
<span class="n">install_agilab_enduser</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
</section>
<section id="c-exemple-of-tests-sequence">
<h2>C - Exemple of Tests Sequence:<a class="headerlink" href="#c-exemple-of-tests-sequence" title="Link to this heading"></a></h2>
<ul>
<li><p>** zip-all gen**</p>
<p>TGenerate the zip of the whole agi project directory with .gitignore filtration. A agi.zip file should created at the root dir of your projectu</p>
</li>
<li><p>** test-agi-env test**</p>
<p>This will lunch unitary test for agi_env components and display their pytest results</p>
</li>
<li><p>** core test**</p>
<p>This will lunch all the unitary tests for agi_core components and display their pytest results</p>
</li>
<li><p>** app_script gen**</p>
<p>This will generate the script below</p>
</li>
<li><p>** &lt;your app&gt;-preinstall**</p>
<p>This will test the conversion of &lt;your_code&gt;_worker.py into &lt;your_code&gt;_worker.pyx to check if your code is transformable into Cython compilable source code.
A file &lt;your_code_worker.pyx&gt; should appear in your wenv</p>
</li>
<li><p>** &lt;your app&gt;-postinstall test**</p>
<p>This will test the test your worker post_install.py.</p>
</li>
<li><p>** app-manager install**</p>
<p>This will install the venv in your fwk/apps/&lt;your app&gt;.</p>
</li>
<li><p>** app install**</p>
<p>This will install the venv in your fwk/apps/&lt;your app&gt; and in your &lt;home&gt;/wenv/&lt;your worker&gt;.</p>
</li>
<li><p>** &lt;your app&gt;_egg gen **</p>
<p>Generate your project egg file containing all the required files to compile the worker Cython library.</p>
</li>
<li><p>** &lt;your app&gt;_lib gen **</p>
<p>Generate your project lib file by compiling &lt;your_code&gt;_worker.pyx and add its dependencies into a Cython library.</p>
</li>
<li><p>** &lt;your app&gt; test**</p>
<p>This will test your app in a minimalistic way.</p>
</li>
<li><p>** &lt;your app&gt;  run**</p>
<p>In the contexte of  apps/&lt;your app&gt;/.venv it will run the log/AGI.&lt;snippet&gt; you have selected which should only be a distribute or a run one.
Remark: use script “app install” to test your app install as it has to be run under fwk/core/.venv virtual environnement.</p>
</li>
</ul>
</section>
<section id="d-agilab-run-dev-vs-agilab-run-enduser-vs-lab-run">
<h2>D - agilab_run_dev vs agilab_run_enduser vs lab_run:<a class="headerlink" href="#d-agilab-run-dev-vs-agilab-run-enduser-vs-lab-run" title="Link to this heading"></a></h2>
<ul>
<li><p><strong>1. agilab_run_dev and agilab_run_enduser</strong></p>
<p>Main script to lunch agilab in mode dev or in mode enduser
This will run streamlit module which will run AGILAB.py in run/debug mode</p>
</li>
<li><p><strong>12. lab_run_test</strong></p>
<p>Only for enabling lab_run.py debugging
This will directly lunch run_lab.py in run/debug mode</p>
</li>
</ul>
</section>
</section>
<section id="known-bugs">
<h1>Known Bugs<a class="headerlink" href="#known-bugs" title="Link to this heading"></a></h1>
<section id="install-sh-freeze">
<h2>&lt;install.sh&gt; freeze:<a class="headerlink" href="#install-sh-freeze" title="Link to this heading"></a></h2>
<p>When you run install.sh it may looks like it is freezed at some point.
“Installing agi-cluster…
uv –preview-features extra-build-dependencies sync -p 3.xx.xx –dev
Using CPython 3.xx.xx
Creating virtual environment at: .venv
Resolved xxx packages in xxms</p>
<blockquote>
<div><p>Building agi-cluster &#64; <a class="reference external" href="file:///Users/example/agilab/src/agilab/core/agi-cluster">file:///Users/example/agilab/src/agilab/core/agi-cluster</a>”</p>
</div></blockquote>
<dl class="simple">
<dt>The sync keeps “freezing” because uv still has to build some heavy dependencies (most notably numba/llvmlite) from</dt><dd><p>source. Those wheels are only pre-built for a few Python versions; with 3.13 they do not exist yet, and even on
3.12 they can fall back to a full compile that takes many minutes before any log progress appears.</p>
</dd>
<dt>Unfortunatly when NumPy/Numba falls back to compiling from source you won’t see messages until the compiler finishes, so it</dt><dd><p>looks like the run “hung”.</p>
</dd>
</dl>
</section>
<section id="uv-virtual-env-warning">
<h2>&lt;UV&gt; VIRTUAL_ENV Warning<a class="headerlink" href="#uv-virtual-env-warning" title="Link to this heading"></a></h2>
<p>while running uv into a project from another one:
warning: <cite>VIRTUAL_ENV=.venv</cite> does not match the project environment path <cite>/Users/example/agilab/src/agilab/apps/mycode_project/.venv</cite> and will be ignored; use <cite>–active</cite> to target the active environment instead
This is not a problem this because we dynamically change the venv. Just ignore it.</p>
</section>
<section id="uv-sync-failed">
<h2>&lt;UV&gt; Sync Failed<a class="headerlink" href="#uv-sync-failed" title="Link to this heading"></a></h2>
<p>While running a script you see a “missing module” message but your module is correctly installed in your venv. And when
you try to reinstall it his can lead to re-installation failures due to <cite>circular dependencies</cite> that prevent proper
package version resolution. This may arrived because your <cite>UV cache has been corrupted</cite>.</p>
<p><strong>Solution:</strong></p>
<p>Clean the UV cache by executing the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>uv<span class="w"> </span>cache<span class="w"> </span>clean
</pre></div>
</div>
</section>
<section id="dask-debug-issue">
<h2>&lt;DASK&gt; Debug Issue<a class="headerlink" href="#dask-debug-issue" title="Link to this heading"></a></h2>
<p>While debugging Dask on Python, you might encounter the following error:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>TypeError: _patch_asyncio.&lt;locals&gt;.run() got an unexpected keyword argument &#39;loop_factory&#39;
</pre></div>
</div>
<p><strong>Workaround:</strong></p>
<p>Disable <cite>python.debug.asyncio.repl</cite> in the PyCharm registry.
To do this, go to Naviguate/Search Everywhere (<cite>&lt;Shift&gt;+&lt;Ctrl|command&gt;+A</cite>) to open the <cite>&lt;Action&gt;</cite> tab then search for <em>registry</em>.</p>
<br><br></section>
<section id="pycharm-run-debug-configuration-is-broken">
<h2>&lt;PYCHARM&gt; Run/Debug Configuration is Broken<a class="headerlink" href="#pycharm-run-debug-configuration-is-broken" title="Link to this heading"></a></h2>
<p>For instance, select your “Run/Debug configuration” (e.g., <cite>&lt;gen-docstings&gt;</cite>) and then press [Run].
The following message appears when you try to [debug] <cite>&lt;gen-docstings&gt;</cite>:</p>
<blockquote>
<div><p>Argument for &#64;NotNull parameter ‘module’ of com/intellij/openapi/roots/ModuleRootManager.getInstance must not be null</p>
</div></blockquote>
<a class="reference internal image-reference" href="_images/pycharm_bug.png"><img alt="PyCharm Bug" class="align-center" src="_images/pycharm_bug.png" style="width: 400px;" />
</a>
<br><br><p><strong>Solution:</strong></p>
<p>This is because your Pycharm script is pointing an a venv but the project containing this venv is not attach to your current project.
So you have to attach this project to your currrent project for enabling your script to be runnable again.</p>
</section>
<section id="pycharm-can-t-open-your-project">
<h2>&lt;PYCHARM&gt; Can’t open your project<a class="headerlink" href="#pycharm-can-t-open-your-project" title="Link to this heading"></a></h2>
<p>After an install of agilab when you select your project to open but it failed.
This might come from pycharm/setup-pycharm.sh that have corrupted your pycharm settings</p>
<p><strong>Solution (macOS):</strong></p>
<p># remove caches and index
rm -rf ~/Library/Caches/JetBrains/PyCharm*</p>
<p># remove locks / and broken files
find ~/Library/ApplicationSupport/JetBrains -maxdepth 2 -type f -name ‘<em>.lock’ -delete
rm -f  ~/Library/ApplicationSupport/JetBrains/PyCharm</em>/options/recentProjects.xml
rm -f  ~/Library/ApplicationSupport/JetBrains/PyCharm*/options/other.xml.___jb_tmp___
rm -f  ~/Library/ApplicationSupport/JetBrains/PyCharm*/options/jdk.table.xml
rm -f  ~/Library/ApplicationSupport/JetBrains/PyCharm*/options/jdk.table.xml.___jb_tmp___</p>
</section>
<section id="failed-to-read-pydantic-metadata">
<h2>Failed to read pydantic metadata<a class="headerlink" href="#failed-to-read-pydantic-metadata" title="Link to this heading"></a></h2>
<p>If the installer emits <code class="docutils literal notranslate"><span class="pre">Failed</span> <span class="pre">to</span> <span class="pre">read</span> <span class="pre">metadata</span> <span class="pre">from</span> <span class="pre">installed</span> <span class="pre">package</span> <span class="pre">pydantic==2.12.3</span></code>:</p>
<ol class="arabic">
<li><p>Clear the offending wheel:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uv</span> <span class="n">cache</span> <span class="n">clean</span> <span class="n">pydantic</span>
</pre></div>
</div>
</li>
<li><p>Reinstall <code class="docutils literal notranslate"><span class="pre">pydantic</span></code> in each affected project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">src</span>\<span class="n">agilab</span>\<span class="n">core</span>\<span class="n">agi</span><span class="o">-</span><span class="n">env</span>
<span class="n">uv</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">cache</span><span class="o">-</span><span class="nb">dir</span> <span class="o">--</span><span class="n">force</span><span class="o">-</span><span class="n">reinstall</span> <span class="n">pydantic</span><span class="o">==</span><span class="mf">2.12.3</span>
<span class="n">cd</span> <span class="o">..</span>\<span class="n">agi</span><span class="o">-</span><span class="n">node</span>
<span class="n">uv</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">cache</span><span class="o">-</span><span class="nb">dir</span> <span class="o">--</span><span class="n">force</span><span class="o">-</span><span class="n">reinstall</span> <span class="n">pydantic</span><span class="o">==</span><span class="mf">2.12.3</span>
<span class="n">cd</span> <span class="o">..</span>\<span class="n">agi</span><span class="o">-</span><span class="n">cluster</span>
<span class="n">uv</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">cache</span><span class="o">-</span><span class="nb">dir</span> <span class="o">--</span><span class="n">force</span><span class="o">-</span><span class="n">reinstall</span> <span class="n">pydantic</span><span class="o">==</span><span class="mf">2.12.3</span>
</pre></div>
</div>
</li>
<li><p>Rerun the installer.</p></li>
</ol>
<p>The METADATA files are regenerated and the warning disappears.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="install-usecase.html" class="btn btn-neutral float-left" title="Installation Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="license.html" class="btn btn-neutral float-right" title="Licenses" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, THALES SIX GTS France SAS.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 540" role="img" aria-labelledby="title desc">
  <title id="title">Installation overview</title>
  <desc id="desc">Diagram summarising how the installer wires configuration, environments, and app templates in service mode.</desc>
  <defs>
    <style>
      .bg{fill:#ffffff}
      .title{font:700 26px/1.2 Arial, Helvetica, sans-serif; fill:#0f172a}
      .t{font:400 13px/1.4 Arial, Helvetica, sans-serif; fill:#334155}
      .h{font:700 14px/1.2 Arial, Helvetica, sans-serif; fill:#0f172a}
      .box{fill:#f8fafc;stroke:#cbd5e1;stroke-width:2}
      .accent{fill:#eef2ff;stroke:#4f46e5;stroke-width:2}
      .arrow{stroke:#475569;stroke-width:3;fill:none;marker-end:url(#arrow)}
    </style>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="10" markerHeight="10" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#475569"/>
    </marker>
  </defs>

  <rect class="bg" width="960" height="540"/>
  <text class="title" x="480" y="56" text-anchor="middle">Installation overview (service mode)</text>
  <text class="t" x="480" y="82" text-anchor="middle">Installer → configuration → workspace → Streamlit runtime.</text>

  <rect class="accent" x="70" y="170" rx="16" ry="16" width="170" height="110"/>
  <text class="h" x="155" y="206" text-anchor="middle">Installer</text>
  <text class="t" x="155" y="232" text-anchor="middle">install.sh</text>
  <text class="t" x="155" y="254" text-anchor="middle">install_apps.sh</text>

  <rect class="box" x="270" y="170" rx="16" ry="16" width="190" height="110"/>
  <text class="h" x="365" y="206" text-anchor="middle">Config</text>
  <text class="t" x="365" y="232" text-anchor="middle">~/.local/share</text>
  <text class="t" x="365" y="254" text-anchor="middle">agilab/.env</text>

  <rect class="box" x="490" y="170" rx="16" ry="16" width="190" height="110"/>
  <text class="h" x="585" y="206" text-anchor="middle">Workspace</text>
  <text class="t" x="585" y="232" text-anchor="middle">~/agi-space</text>
  <text class="t" x="585" y="254" text-anchor="middle">apps/ + logs/</text>

  <rect class="box" x="710" y="170" rx="16" ry="16" width="180" height="110"/>
  <text class="h" x="800" y="206" text-anchor="middle">Runtime</text>
  <text class="t" x="800" y="232" text-anchor="middle">~/agi-space/.venv</text>
  <text class="t" x="800" y="254" text-anchor="middle">uv run streamlit</text>

  <line class="arrow" x1="240" y1="225" x2="270" y2="225"/>
  <line class="arrow" x1="460" y1="225" x2="490" y2="225"/>
  <line class="arrow" x1="680" y1="225" x2="710" y2="225"/>

  <rect class="box" x="140" y="330" rx="16" ry="16" width="680" height="140"/>
  <text class="h" x="180" y="368">What the runtime expects</text>
  <text class="t" x="180" y="394">• `AgiEnv` resolves paths from `.env` (including `APPS_REPOSITORY` when configured).</text>
  <text class="t" x="180" y="416">• App templates are available under `~/agi-space/apps` (symlinks or copies).</text>
  <text class="t" x="180" y="438">• Artifacts land in shared locations (datasets, logs, checkpoints) for reproducibility.</text>
  <text class="t" x="180" y="460">• The same workflow can run locally or via SSH clusters using the same settings.</text>
</svg>
